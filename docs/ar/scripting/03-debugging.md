# ุชุตุญูุญ ุฃุฎุทุงุก ุงููุตูุต ุงูุจุฑูุฌูุฉ ๐

<div dir="rtl">

## ุฃุฏูุงุช ุงูุชุตุญูุญ ุงูุฃุณุงุณูุฉ

### 1. ุฎูุงุฑุงุช ุงูุชุตุญูุญ ุงููุฏูุฌุฉ ๐

| ุงูุฎูุงุฑ | ุงููุตู | ูุซุงู |
|--------|--------|-------|
| `set -x` | ุทุจุงุนุฉ ุงูุฃูุงูุฑ ูุจู ุงูุชูููุฐ | `set -x` |
| `set -v` | ุทุจุงุนุฉ ุฃุณุทุฑ ุงููุต ุงูุจุฑูุฌู ุนูุฏ ูุฑุงุกุชูุง | `set -v` |
| `set -e` | ุงูุฎุฑูุฌ ุนูุฏ ุญุฏูุซ ุฎุทุฃ | `set -e` |
| `set -u` | ุงูุฎุฑูุฌ ุนูุฏ ุงุณุชุฎุฏุงู ูุชุบูุฑ ุบูุฑ ูุนุฑู | `set -u` |
| `set -n` | ูุญุต ุจูุงุก ุงูุฌููุฉ ุฏูู ุชูููุฐ | `set -n` |

### 2. ุงุณุชุฎุฏุงู ูุถุน ุงูุชุตุญูุญ ๐

```bash
#!/bin/bash -x          # ุชุตุญูุญ ุงููุต ุงูุจุฑูุฌู ุจุฃูููู
set -x                  # ุจุฏุก ุงูุชุตุญูุญ
command1
command2
set +x                  # ุฅููุงู ุงูุชุตุญูุญ

# ุชุตุญูุญ ูุณู ูุญุฏุฏ
{
    set -x
    command1
    command2
    set +x
} 2> debug.log         # ุฅุนุงุฏุฉ ุชูุฌูู ูุฎุฑุฌุงุช ุงูุชุตุญูุญ
```

## ุชูููุงุช ุงูุชุตุญูุญ ุงููุชูุฏูุฉ

### 1. ุงูุชุชุจุน ูุงูุชุณุฌูู ๐

```bash
# ุชุชุจุน ุงูุฏูุงู
function debug() {
    echo "ุชุตุญูุญ: $*" >&2
}

# ุชุชุจุน ุงูููุฏุณ
function stack_trace() {
    local frame=0
    while caller $frame; do
        ((frame++))
    done
}

# ุชุชุจุน ุฑูู ุงูุณุทุฑ
echo "ุฎุทุฃ ูู ุงูุณุทุฑ $LINENO"

# ุชุชุจุน ุงูุชูููุฐ ูุน ุงูุทุงุจุน ุงูุฒููู
PS4='+ $(date "+%Y-%m-%d %H:%M:%S") ${BASH_SOURCE}:${LINENO}: '
set -x
```

### 2. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ๐จ

```bash
# ุฏุงูุฉ ุงูุฎุทุฃ
error() {
    local parent_lineno="$1"
    local message="$2"
    local code="${3:-1}"
    if [[ -n "$message" ]] ; then
        echo "ุฎุทุฃ ูู ุฃู ุจุงููุฑุจ ูู ุงูุณุทุฑ ${parent_lineno}: ${message}"
    else
        echo "ุฎุทุฃ ูู ุฃู ุจุงููุฑุจ ูู ุงูุณุทุฑ ${parent_lineno}"
    fi
    exit "${code}"
}

# ุงูุชูุงุท ุงูุฃุฎุทุงุก
trap 'error ${LINENO}' ERR

# ุชุตุญูุญ ุดุฑุทู
DEBUG=${DEBUG:-0}
debug() {
    if [ "$DEBUG" -eq 1 ]; then
        echo "ุชุตุญูุญ: $*" >&2
    fi
}
```

## ุงูุชุตุญูุญ ุงูุชูุงุนูู

### 1. ุงุณุชุฎุฏุงู bashdb ๐ง

```bash
# ุชุซุจูุช bashdb
sudo apt-get install bashdb    # Debian/Ubuntu
sudo yum install bashdb        # RHEL/CentOS

# ุชุดุบูู ุงููุต ุงูุจุฑูุฌู ูู ุงููุตุญุญ
bashdb script.sh

# ุฃูุงูุฑ bashdb ุงูุดุงุฆุนุฉ
break 10          # ุชุนููู ููุทุฉ ุชููู ุนูุฏ ุงูุณุทุฑ 10
info break        # ูุงุฆูุฉ ููุงุท ุงูุชููู
step             # ุงูุฎุทูุฉ ุฅูู ุงูุฏุงุฎู
next             # ุงูุฎุทูุฉ ุงูุชุงููุฉ
continue         # ูุชุงุจุนุฉ ุงูุชูููุฐ
print variable   # ุทุจุงุนุฉ ูููุฉ ุงููุชุบูุฑ
quit             # ุงูุฎุฑูุฌ ูู ุงููุตุญุญ
```

### 2. ุงูุชุตุญูุญ ุงููุฏูู ๐

```bash
# ุงูุชุตุญูุญ ุงูุชูุงุนูู
read -p "ุงุถุบุท enter ูููุชุงุจุนุฉ..."

# ูุญุต ููู ุงููุชุบูุฑุงุช
echo "ุชุตุญูุญ: var=$var"

# ูุญุต ุงูุดุฑุท
if [ "$DEBUG" = true ]; then
    echo "ุชุตุญูุญ: ุชู ุงุณุชููุงุก ุงูุดุฑุท"
fi

# ูุญุต ูุฎุฑุฌุงุช ุงูุฃูุฑ
command 2>&1 | tee debug.log
```

## ุณููุงุฑูููุงุช ุงูุชุตุญูุญ ุงูุดุงุฆุนุฉ

### 1. ูุดุงูู ุงููุชุบูุฑุงุช ๐ฆ

```bash
# ุงููุชุบูุฑุงุช ุบูุฑ ุงููุนุฑูุฉ
set -u
: "${VARIABLE:?ูุฌุจ ุชุนูููู}"

# ุชุตุญูุญ ุงููุตูููุงุช
declare -p array_name

# ูุดุงูู ูุทุงู ุงููุชุบูุฑุงุช
local var="ูุญูู"
echo "ุฏุงุฎู ุงูุฏุงูุฉ: $var"
```

### 2. ูุดุงูู ุงููุณุงุฑ ูุงููููุงุช ๐

```bash
# ุงูุชุญูู ูู ูุฌูุฏ ุงูููู
[ -f "$file" ] || { echo "ุงูููู ุบูุฑ ููุฌูุฏ: $file"; exit 1; }

# ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
[ -r "$file" ] && [ -w "$file" ] || echo "ุชู ุฑูุถ ุงูุฅุฐู"

# ุชุตุญูุญ ูุดุงูู ุงููุณุงุฑ
echo "PATH=$PATH"
which command || echo "ุงูุฃูุฑ ุบูุฑ ููุฌูุฏ"
```

## ุฃูุถู ููุงุฑุณุงุช ุงูุชุตุญูุญ

### 1. ุชูุธูู ุงูููุฏ ๐

```bash
# ุงุณุชุฎุฏุงู ุงูุฏูุงู ููุชูุธูู ุงูุฃูุถู
main() {
    local result
    result=$(step1) || return
    step2 "$result" || return
}

# ุชูููู ูุถุน ุงูุชุตุญูุญ ุงูุชูุงุฆูุงู
debug_mode() {
    if [ "${DEBUG:-0}" -eq 1 ]; then
        set -x
    fi
}
```

### 2. ุฅุทุงุฑ ุงูุชุณุฌูู ๐

```bash
# ูุณุชููุงุช ุงูุชุณุฌูู
LOG_LEVEL=${LOG_LEVEL:-INFO}

log() {
    local level=$1
    shift
    local message="$*"
    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    
    case $LOG_LEVEL in
        DEBUG) [[ $level =~ ^(DEBUG|INFO|WARN|ERROR)$ ]] && echo "[$timestamp] $level: $message" ;;
        INFO)  [[ $level =~ ^(INFO|WARN|ERROR)$ ]] && echo "[$timestamp] $level: $message" ;;
        WARN)  [[ $level =~ ^(WARN|ERROR)$ ]] && echo "[$timestamp] $level: $message" ;;
        ERROR) [[ $level =~ ^(ERROR)$ ]] && echo "[$timestamp] $level: $message" ;;
    esac
}

# ุงูุงุณุชุฎุฏุงู
log DEBUG "ุฑุณุงูุฉ ุชุตุญูุญ"
log INFO "ุฑุณุงูุฉ ูุนูููุงุช"
log WARN "ุฑุณุงูุฉ ุชุญุฐูุฑ"
log ERROR "ุฑุณุงูุฉ ุฎุทุฃ"
```

## ุฃูุซูุฉ ุชุทุจูููุฉ ๐ฏ

### 1. ูุต ุจุฑูุฌู ูุณุงุนุฏ ููุชุตุญูุญ
```bash
#!/bin/bash

# ุฏูุงู ูุณุงุนุฏุฉ ููุชุตุญูุญ
debug_info() {
    echo "=== ูุนูููุงุช ุงูุชุตุญูุญ ==="
    echo "ุงููุต ุงูุจุฑูุฌู: $0"
    echo "PID: $$"
    echo "ุงููุนุงููุงุช: $@"
    echo "ุฏููู ุงูุนูู: $PWD"
    echo "ูุชุบูุฑุงุช ุงูุจูุฆุฉ:"
    env | sort
    echo "======================="
}

# ูุชุชุจุน ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
track_memory() {
    local pid=$1
    while ps -p $pid > /dev/null; do
        ps -o pid,ppid,%mem,rss,cmd -p $pid
        sleep 1
    done
}

# ูุซุงู ุงูุงุณุชุฎุฏุงู
debug_info "$@"
track_memory $$ &
```

### 2. ูุต ุจุฑูุฌู ููุดู ุงูุฃุฎุทุงุก
```bash
#!/bin/bash

# ุฅุนุฏุงุฏ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
set -euo pipefail
IFS=$'\n\t'

# ุชูููู ุงูุชุตุญูุญ
DEBUG=${DEBUG:-0}
TRACE=${TRACE:-0}

# ุฏูุงู ุงูุชุตุญูุญ
debug() {
    [ "$DEBUG" -eq 1 ] && echo "ุชุตุญูุญ: $*" >&2
}

trace() {
    if [ "$TRACE" -eq 1 ]; then
        local frame=0
        echo "=== ุชุชุจุน ุงูููุฏุณ ===" >&2
        while caller $frame; do
            ((frame++))
        done
        echo "=================" >&2
    fi
}

# ูุนุงูุฌ ุงูุฃุฎุทุงุก
error_handler() {
    local line_no=$1
    local error_code=$2
    echo "ุฎุทุฃ ูู ุงูุณุทุฑ $line_no (ุฑูุฒ ุงูุฎุฑูุฌ: $error_code)" >&2
    trace
}

# ุชุนููู ุงููุตูุฏุฉ
trap 'error_handler ${LINENO} $?' ERR

# ุงูุชูููุฐ ุงูุฑุฆูุณู
main() {
    debug "ุจุฏุก ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ"
    # ุงูููุฏ ุงูุฎุงุต ุจู ููุง
}

main "$@"
```

## ุฃูุถู ุงูููุงุฑุณุงุช ๐

1. **ุฅุนุฏุงุฏ ุงูุชุตุญูุญ**
   - ุงุณุชุฎุฏุงู ุนูุงูุงุช ุงูุชุตุญูุญ
   - ุชูููุฐ ุงูุชุณุฌูู
   - ุฅุถุงูุฉ ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก
   - ุชุถููู ุชุชุจุน ุงูููุฏุณ

2. **ุฌูุฏุฉ ุงูููุฏ**
   - ุงุณุชุฎุฏุงู shellcheck
   - ุงุชุจุงุน ุฏููู ุงูุฃุณููุจ
   - ุฅุถุงูุฉ ุชุนูููุงุช
   - ุงุณุชุฎุฏุงู ุงูุฏูุงู

3. **ุงูุงุฎุชุจุงุฑ**
   - ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
   - ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู
   - ุงูุญุงูุงุช ุงูุญุฏูุฉ
   - ุญุงูุงุช ุงูุฎุทุฃ

4. **ุงูุชูุซูู**
   - ุฅุฌุฑุงุกุงุช ุงูุชุตุญูุญ
   - ุงููุดุงูู ุงููุนุฑููุฉ
   - ุงูุญููู ุงูุดุงุฆุนุฉ
   - ุงูุฃูุซูุฉ

## ุงูุฎุทูุงุช ุงูุชุงููุฉ ๐

- [ุงูุชุนุจูุฑุงุช ุงูููุทูุฉ](04-regex.md)
- [ุฃูุซูุฉ ุงููุตูุต ุงูุจุฑูุฌูุฉ](05-script-examples.md)
- [ุจุฑูุฌุฉ Bash ุงููุชูุฏูุฉ](02-advanced-bash.md)
- [ุฅุฏุงุฑุฉ ุงููุธุงู](../admin/01-system-admin.md)

</div>
